# AWS Free-Tier/Three-Tiered WordPress App
This repo contains AWS CloudFormation Templates and dependencies to create a WordPress blog in AWS. The app will be loaded into a three-tier, secure VPC. Nevertheless, these templates will ONLY initiate free-tier resources.

This project serves more to build experience than to solve any practical issues associated with hosting a wordpress app on AWS. However, some of the cost-saving measures I implemented (such as running a NAT Instance rather than a NAT gateway, see section 4) may be of interest to individuals or small dev/test teams.

## Table of Contents
1. Architectural overview
2. Initialize the VPC
3. Prepare Security Groups
4. Start RDS MySQL Server and EC2 Instances
6. Configure WordPress

## Architectural Overview
This WordPress app is built on three-tier architecture. The design of the three tiers (presentation tier, app tier, and data tier) is modelled after the [WordPress: Best Practices on AWS](https://aws.amazon.com/blogs/architecture/wordpress-best-practices-on-aws/) whitepaper. 

The three tiers are populated as follows:
 |Layer|Function|Resource|
 |---|---|---|
 | 1. Presentation tier | Dual purpose NAT Instance/Bastion server |t2.micro EC2 instance|
 |2. Application tier | WordPress server | t2.micro EC2 instance|
 |3. Data Tier|MySQL Database|db.t3.micro RDS instance (single AZ)|

I spin up these resources within a **VPC** generated by CloudFormation. Each resource is given its own subnet in a single availability zone (AZ). A second set of subnets is defined in a second AZ, which satisfies the subnet group requirements of RDS and allows for easy scaling in the future.

The VPC connects to the internet through an **Internet Gateway**. Only the presentation layer is a publicly accessible (i.e. has a route to the Internet Gateway defined). 

Note that I opt to create a NAT Instance out of an EC2 instance, rather than use AWS's built-in NAT Gateways. This is a cost-saving measure. See section 4 for more details.

<Details><Summary>See the architectural diagram</summary>
<picture>
  <source media="(prefers-color-scheme: dark)" srcset="/assets/WordPress Architecture Dark Mode.jpeg" | width=750>
  <source media="(prefers-color-scheme: light)" srcset="/assets/WordPress Architecture.jpeg" | width=750>
  <img alt="A diagram of the architecture that is created with these CloudFormation Templates." src="/assets/WordPress Architecture Dark Mode.jpeg" | width=750>
</picture>
</Details>

## Initialize the VPC
